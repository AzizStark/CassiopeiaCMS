(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1:function(e,t,a){e.exports={navbarItem:"blog_navbarItem__cxMHU",blog:"blog_blog__2Ij4j",title1:"blog_title1__3JisP",head1:"blog_head1__3J6f5",postbox:"blog_postbox__1-_qE",deck:"blog_deck__iuILH",box:"blog_box__26vmP",lcontainer:"blog_lcontainer__1RsSA",loader:"blog_loader__hCI50",sidebar:"blog_sidebar__23gdc",holder:"blog_holder__2F-JK",dashboard:"blog_dashboard__353gd",dtitle:"blog_dtitle__1MbV5",sideimg:"blog_sideimg__JRsJ2",card:"blog_card__Q_lga",adapt:"blog_adapt__LaMKF",htitle:"blog_htitle__Sd7ko",wrapper:"blog_wrapper__SorGl",htext:"blog_htext__11SpF",stext:"blog_stext__C2n1G",slider:"blog_slider__18Yxy","slide-top":"blog_slide-top__3FeY3",inputarea:"blog_inputarea__W-u6B",textarea:"blog_textarea__5JeUP",nbutton:"blog_nbutton__bgtxc",tag:"blog_tag__1olk7",contentArea:"blog_contentArea__jIzo_",cbutton:"blog_cbutton__1TNch",cbutton2:"blog_cbutton2__WvX0n"}},153:function(e,t,a){e.exports=a.p+"static/media/field.9165801c.jpg"},161:function(e,t,a){e.exports=a(322)},182:function(e,t,a){},183:function(e,t,a){},200:function(e,t){},202:function(e,t){},222:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(39),c=a.n(o),i=a(65),r=a(31),s=a(8),d=a(9),m=a(11),u=a(10),g=a(12),h=a(6),p=a.n(h),b=a(1),f=a.n(b),E=a(43),v=a.n(E),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).showIt=function(e,t){t.preventDefault(),document.getElementById(e).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},a.toggle=function(){""===a.state.burger?a.setState({burger:"is-active"}):a.setState({burger:""})},a.state={burger:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation",style:{backgroundColor:"#00000000"}},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"# "},l.a.createElement("img",{src:v.a,width:"90",height:"60",alt:"logo"})),l.a.createElement("a",{role:"button",className:"navbar-burger burger ".concat(this.state.burger),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",href:"# ",onClick:this.toggle},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(this.state.burger)},l.a.createElement("div",{className:"navbar-end",style:{fontWeight:"bold"}},l.a.createElement("a",{className:"navbar-item",id:f.a.navbarItem,href:"/blog"},"Home"),l.a.createElement("a",{className:"navbar-item",id:f.a.navbarItem,href:"/"},"About"),l.a.createElement("a",{className:"navbar-item",id:f.a.navbarItem,href:"/contact"},"Contact"))))}}]),t}(n.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer",style:{backgroundColor:"#222227",color:"#ffffff",padding:"1.5%",paddingTop:"10%"}},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column has-text-centered"},l.a.createElement("p",{style:{fontWeight:400,fontSize:"calc(12px + 0.4vh)",color:"#aaaaaa"}},"Content & Graphics \xa9 2020 AzizStark"))))}}]),t}(n.Component),N=(a(182),a(183),a(153)),w=a.n(N),S=a(154),k=a(64);var x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).showIt=function(e){document.getElementById(e).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},a.getPosts=function(){p.a.get("/api/postitles",{params:{skip:a.state.pivot,limit:6}}).then((function(e){0!==e.data.length?a.setState({posts:a.state.posts.concat(e.data),pivot:a.state.pivot+6,active:!0}):a.setState({active:!1})})).catch((function(e){return console.log(e)}))},a.loadMore=function(){a.getPosts()},a.subscribe=function(e){e.preventDefault(),p.a.post("/api/subscribe",{mail:a.state.email}).then((function(e){e.data?window.alert("Subscribed!"):window.alert("Unable to subscribe")})).catch((function(e){return console.log(e)}))},a.state={posts:[],pivot:0,active:!0,email:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"shouldComponentUpdate",value:function(e,t){return t.posts.length!==this.state.posts.length||!1!==this.state.active&&!1===t.active}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:f.a.blog,style:{overflow:"Hidden"}},l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&display=swap",rel:"stylesheet"}),l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l.a.createElement("meta",{name:"description",content:"Explore more on Aziz Stark's blog"}),l.a.createElement(y,null),l.a.createElement("div",{style:{height:"100%"}},l.a.createElement("h1",{className:f.a.sidebar},"AZIZSTARK'S BLOG"),l.a.createElement("section",{className:"hero is-fullheight"},l.a.createElement("div",{className:"columns is-desktop"},l.a.createElement("div",{className:"column"},l.a.createElement("img",{effect:"blur",alt:"header",src:w.a,className:"".concat(f.a.head1)})),l.a.createElement("div",{className:"column ".concat(f.a.htitle)},l.a.createElement("div",{className:f.a.adapt},l.a.createElement("h1",{className:f.a.title1},"Welcome to Cassiopeia CMS")))),l.a.createElement("div",{className:"hero",style:{paddingBottom:30}},function(e){for(var t=[],a=2,n=0,o=0;o<e.length;o++)t[o]=e.slice(n,n+a),n+=a,a=Math.floor(2*Math.random())+2;var c=0;return t.map((function(e,a){return l.a.createElement("div",{className:"columns is-desktop ".concat(f.a.deck),key:a},t[a].map((function(e,n){return function(e,t,a,n,o,c,r){return l.a.createElement("div",{className:"column is-full-touch ".concat(f.a.wrapper," ").concat(e," ").concat(f.a.slider),key:o},l.a.createElement(i.b,{to:{pathname:"blog/".concat(a,"/").concat(t.replace(/ /g,"-"))},style:{color:"inherit"}},l.a.createElement(S.LazyLoadComponent,null,l.a.createElement("div",{className:"".concat(f.a.box),style:{backgroundImage:"linear-gradient(42.51deg, rgba(3, 3, 3, 0.55) -3.51%, rgba(86, 85, 85, 0.51) 97.42%),url(https://res.cloudinary.com/azizcloud/image/upload/".concat(k.transformations.cards).concat(c.slice(50),")")}},l.a.createElement("h1",{className:f.a.htext},t),l.a.createElement("br",null),l.a.createElement("h1",{className:f.a.stext},n),l.a.createElement("h1",{className:f.a.tag},r)))))}(2===t[a].length&&n===c?"is-one-third":2===t[a].length?"is-two-thirds":3===t[a].length?"is-one-third":"",t[a][n].title,t[a][n].cid,t[a][n].date,n,t[a][n].imageurl,t[a][n].tag)})),void(0===c?c+=1:c-=1))}))}(this.state.posts)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:60}},this.state.pivot>0&&this.state.active&&l.a.createElement("center",null,l.a.createElement("div",{title:"Load more",className:f.a.loader,onClick:function(){return e.loadMore()}}))),l.a.createElement("div",{className:"container ".concat(f.a.holder)},l.a.createElement("form",{onSubmit:function(t){return e.subscribe(t)}},l.a.createElement("br",null),l.a.createElement("h1",{className:"title",style:{color:"white",textAlign:"center"}},"Join my blog"),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("input",{className:"".concat(f.a.inputarea," ").concat(f.a.inputx),onChange:function(t){return e.setState({email:t.target.value})},name:"user_email",placeholder:"Your email address",type:"email",required:!0})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("input",{className:f.a.nbutton,type:"submit",value:"Subscribe"})))))),l.a.createElement(C,null))}}]),t}(n.Component),_=a(67),j=a.n(_),I=a(156),z=a.n(I),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getPosts=function(){var e=a.props.location.pathname,t=e.slice(6,e.lastIndexOf("/"));p.a.get("/api/viewpost",{params:{title:e.slice(7+t.length).replace(/-/g," "),cid:t}}).then((function(e){e.data?a.setState({uid:e.data._id,title:e.data.title,date:e.data.date,tag:e.data.tag,content:e.data.content,image:e.data.imageurl}):a.props.history.push("/404")})).catch((function(e){return a.props.history.push("/404")}))},a.state={uid:"",title:"",date:"",tag:"",content:"",image:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getPosts()}},{key:"render",value:function(){return l.a.createElement("div",{className:f.a.blog,style:{overflow:"Hidden"}},l.a.createElement("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=UA-145139004-1"}),l.a.createElement("script",null,"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', 'UA-145139004-1');"),l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&display=swap",rel:"stylesheet"}),l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l.a.createElement(y,null),l.a.createElement("div",{style:{height:"100%"}},l.a.createElement("section",{className:"hero is-fullheight"},l.a.createElement("h1",{className:f.a.sidebar},"AZIZSTARK'S BLOG"),l.a.createElement("div",{className:"columns is-desktop"},l.a.createElement("div",{className:"column"},l.a.createElement("img",{alt:"header",src:"https://res.cloudinary.com/azizcloud/image/upload/".concat(k.transformations.header).concat(this.state.image.slice(50)),className:f.a.head1})),l.a.createElement("div",{className:"column",style:{maxWidth:"50%"}},l.a.createElement("div",{className:f.a.adapt},l.a.createElement("h1",{className:f.a.title1},this.state.title),l.a.createElement("p",{className:f.a.title1,style:{fontSize:"calc(0.3vw + 12px)",paddingTop:30,fontWeight:300}},"Posted on ",this.state.date)))),l.a.createElement("div",{className:"column ".concat(f.a.postbox," ").concat(f.a.slider)},l.a.createElement("div",{className:"container",style:{minHeight:400}},l.a.createElement("div",{className:f.a.contentArea,style:{backgroundColor:"#00000000"}},j()("".concat(this.state.content)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(z.a,{shortname:"AzizStark",identifier:this.state.title+this.state.cid,title:this.state.title,url:window.location.href,category_id:this.state.cid})))),l.a.createElement(C,null))}}]),t}(n.Component),A=a(160),M=a(28),P=a(29),F=a(68),B=a.n(F),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({capvalue:e,sendinfo:"Send"})},a.sendEmail=function(e){e.preventDefault(),console.log(a.state.emaildata),null!==a.state.capvalue&&"sent"!==a.state.capvalue?(a.setState({sendinfo:"Sending"}),p.a.post("/api/sendmail",a.state.emaildata).then((function(e){a.setState({sendinfo:"Message Sent",capvalue:"sent"})})).catch((function(e){a.setState({sendinfo:"Sending Failed!"})}))):"sent"!==a.state.capvalue&&a.setState({sendinfo:"Please verify captcha"})},a.formChanger=function(e){var t=e.target.name,n=e.target.value,l=a.state.emaildata;console.log(l),l[t]=n,a.setState({emaildata:l})},a.state={capvalue:null,sendinfo:"Send",emaildata:{user_name:"",user_email:"",message:""}},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("img",{alt:"header",className:f.a.sideimg,style:{width:"50%",height:"100vh",position:"fixed",objectFit:"cover"},src:B.a})),l.a.createElement("div",{className:"column",style:{paddingTop:18}},l.a.createElement("a",{className:"title",style:{color:"white",fontSize:18,margin:20,fontWeight:700,letterSpacing:"0.08em"},href:"/blog"},l.a.createElement(M.a,{style:{color:"#888888",paddingTop:15},icon:P.a,size:"2x"}),"Back to blog"),l.a.createElement("div",{className:"container ".concat(f.a.holder),style:{width:"90%"}},l.a.createElement("form",{onSubmit:this.sendEmail},l.a.createElement("h1",{className:"title",style:{fontSize:50,color:"white",textAlign:"center",fontWeight:700,letterSpacing:"0.1em",margin:20}}," Contact "),l.a.createElement("h1",{className:"title",style:{color:"white",textAlign:"center",fontSize:22,padding:12,fontWeight:700,letterSpacing:"0.08em"}},"Let's talk!"),l.a.createElement("input",{onChange:this.formChanger,className:f.a.inputarea,name:"user_name",placeholder:"Your name",type:"text",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.formChanger,className:f.a.inputarea,name:"user_email",placeholder:"Your email address",type:"email",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("textarea",{onChange:this.formChanger,className:f.a.textarea,name:"message",placeholder:"Your message",type:"textarea",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(A.a,{sitekey:"6LcHgMkUAAAAAFJHIMlbY2m2N0wSchYl5Ga2wJXU",theme:"dark",onChange:this.onChange})),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("input",{className:f.a.nbutton,type:"submit",value:this.state.sendinfo})))),l.a.createElement(C,null))))}}]),t}(n.Component),T=a(69),U=a.n(T),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).requireAuth=function(){p.a.get("/api/isLogged").catch((function(e){401===e.response.status&&a.props.history.push("/admin/login")}))},a.handleSubmit=function(e){e.preventDefault(),p.a.post("/api/login",{},{auth:{username:a.state.username,password:a.state.password}}).then((function(e){e.data&&a.props.history.push("/admin/dashboard")})).catch((function(e){return console.log(e)}))},a.state={username:"",password:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("img",{alt:"header",className:f.a.sideimg,style:{width:"50%",height:"100vh",position:"fixed",objectFit:"cover"},src:U.a}),l.a.createElement("img",{src:v.a,alt:"logo",style:{width:80,margin:20,zIndex:99,position:"fixed"}})),l.a.createElement("div",{className:"column"},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:0,minHeight:"100vh"}},l.a.createElement("form",{className:f.a.holder},l.a.createElement("h1",{className:"title",style:{fontSize:50,color:"white",textAlign:"center",fontWeight:700,letterSpacing:"0.1em"}}," Login ")," ",l.a.createElement("br",null),l.a.createElement("p",{className:"control has-icons-left"},l.a.createElement("input",{onChange:function(t){e.setState({username:t.target.value})},className:f.a.inputarea,type:"email",placeholder:"Email",required:!0}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement(M.a,{icon:P.d,size:"1x"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",{className:"control has-icons-left"},l.a.createElement("input",{onChange:function(t){e.setState({password:t.target.value})},className:f.a.inputarea,type:"password",placeholder:"Password",required:!0}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement(M.a,{icon:P.f,size:"1x"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("button",{className:f.a.nbutton,onClick:this.handleSubmit},"Login")))),l.a.createElement(C,null)))}}]),t}(n.Component),L=(a(222),a(18)),W=a(157),H=a(44),q=a.n(H),J=a(92),Y=a.n(J),G=a(158),V=a.n(G),Z=a(159),K=a(70),X=a.n(K),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).local=function(){localStorage.setItem("content",q()(Object(L.convertToRaw)(a.state.editorState.getCurrentContent())))},a.onEditorStateChange=function(e){e.getCurrentContent().getPlainText("").length<500001?a.setState({editorState:e}):window.alert("Warning: Maximum content size reached")},a.putPost=function(){a.setState({space:"loading"});var e=q()(Object(L.convertToRaw)(a.state.editorState.getCurrentContent()));a.state.stitle.length&&a.state.stag.length&&a.state.simage.length&&e.length>0?p.a.post("/api/posts",{imageurl:a.state.simage,title:a.state.stitle,tag:a.state.stag,content:e,cimages:a.state.uploadedFileCloudinaryId}).then((function(e){p.a.delete("/api/deleteused",{headers:{Authorization:"authorizationToken"},data:{imgids:a.state.uploadedFileCloudinaryId}}).catch((function(e){return console.log(e)})),e&&(window.alert("Posted Successfully!"),localStorage.removeItem("content"),a.setState({modalstate:""}),a.props.history.push("/blog/".concat(e.data.cid,"/").concat(e.data.title)))})).catch((function(e){return window.alert("Post creation failed")})):window.alert("Input field required")},a.getPost=function(){var e=a.props.location.pathname,t=e.slice(14,e.lastIndexOf("/")),n=e.slice(15+t.length).replace(/-/g," ");p.a.get("/api/viewpost",{params:{title:n,cid:t}}).then((function(e){if(e.data){var l=Y()(e.data.content),o=l.contentBlocks,c=l.entityMap,i=L.ContentState.createFromBlockArray(o,c),r=L.EditorState.createWithContent(i);a.setState({otitle:n,ocid:t,stitle:e.data.title,simage:e.data.imageurl,stag:e.data.tag,uploadedFileCloudinaryId:e.data.cimages,udone:e.data.cimages.length,editorState:r})}})).catch((function(e){return console.log(e)}))},a.setPost=function(){a.setState({space:"loading"});var e=q()(Object(L.convertToRaw)(a.state.editorState.getCurrentContent()));a.state.stitle.length&&a.state.stag.length&&a.state.simage.length&&e.length>0?p.a.put("/api/updatepost",{otitle:a.state.otitle,cid:a.state.ocid,cimages:a.state.uploadedFileCloudinaryId,imageurl:a.state.simage,title:a.state.stitle,tag:a.state.stag,content:e}).then((function(e){p.a.delete("/api/deleteused",{headers:{Authorization:"authorizationToken"},data:{imgids:a.state.uploadedFileCloudinaryId}}).then((function(e){e.data&&(window.alert("Success: Post Updated!"),a.setState({modalstate:""}))})).catch((function(e){return console.log(e)})),a.props.history.push("/blog/".concat(e.data.cid,"/").concat(a.state.stitle))})).catch((function(e){return console.log(e)})):window.alert("Update failed, Please try again")},a.handleImageUpload=function(e){a.setState({uploadStatus:"Uploading"});var t,n=a.state.pictures[e],l=new FormData;l.append("image",n);var o={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t=Math.round(100*e.loaded/e.total),document.getElementById("progress").value=t}};p.a.post("/api/upload",l,o).then((function(t){if(t.data){var n=t.data.imgurl,l=t.data.public_id;a.setState({uploadedFileCloudinaryUrl:a.state.uploadedFileCloudinaryUrl.concat(n),uploadedFileCloudinaryId:a.state.uploadedFileCloudinaryId.concat(l),uploadCount:a.state.uploadCount+1}),a.state.pictures.length!==a.state.uploadCount?(a.setState({uindex:a.state.uindex+1}),a.handleImageUpload(e+1)):a.setState({uindex:a.state.uindex+1,uploadStatus:"Finished"})}})).catch((function(e){return console.log(e)}))},a.deleteImage=function(e){p.a.delete("/api/deleteimage",{headers:{Authorization:"authorizationToken"},data:{title:a.state.otitle,cid:a.state.ocid,imageid:a.state.uploadedFileCloudinaryId[e]}}).then((function(t){if(t.data){window.alert("Image deleted successfully");var n=a.state.uploadedFileCloudinaryId;n.splice(e,1),a.setState({uploadedFileCloudinaryId:n,udone:a.state.udone-1})}}))},a.imageStack=function(e){"Uploading"!==a.state.uploadStatus?a.setState({pictures:e}):window.alert("Please wait for the upload to finish")},a.toggleModal=function(e){e&&e.preventDefault(),""===a.state.modalstate?a.setState({modalstate:"is-active is-clipped"}):a.setState({modalstate:""})},a.switchTab=function(e){var t=["","",""];t[e]="is-active",a.setState({tab:t})},a.editHtml=function(e){var t="";if(null!==e){var n=Y()(e),l=n.contentBlocks,o=n.entityMap,c=L.ContentState.createFromBlockArray(l,o);t=L.EditorState.createWithContent(c)}a.setState({editorState:t})},a.prevent=function(e){e.preventDefault()},a.loader=function(){return l.a.createElement("center",null,l.a.createElement("img",{src:X.a,alt:"loading",style:{width:40,margin:18}}))},a.state={editmode:"Create Post",simage:"",otitle:"",ocid:0,stitle:"",stag:"",uploadedFileCloudinaryUrl:[],uploadedFileCloudinaryId:[],editorState:L.EditorState.createEmpty(),htmlcontent:"",pictures:[],buttonUrl:"Copy URL",uploadStatus:"NotStarted",uploadCount:0,modalstate:"",uindex:0,utotal:0,udone:0,tab:["is-active","",""],space:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/isLogged").then((function(t){var a=new URLSearchParams(e.props.location.search).get("m"),n=localStorage.getItem("content");"edit"===a?(e.setState({editmode:"Edit Post"}),e.getPost()):(e.editHtml(n),e.interval=setInterval((function(){return e.local()}),6e4))})).catch((function(t){401===t.response.status&&e.props.history.push("/admin/login")}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state.editorState;return l.a.createElement("div",{className:"",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&display=swap",rel:"stylesheet"}),l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l.a.createElement("div",{className:f.a.lcontainer},l.a.createElement("section",{className:"hero is-fullheight"},l.a.createElement("h1",{style:{fontSize:36,textAlign:"center"}},this.state.editmode),l.a.createElement("br",null),l.a.createElement("div",{style:{backgroundImage:"url(".concat(B.a,")"),backgroundSize:"cover",textAlign:"center",borderRadius:10}},l.a.createElement("div",{style:{width:"100%",height:"100%",backdropFilter:"blur(5px)",borderRadius:10,paddingBottom:20}},l.a.createElement(V.a,{buttonText:"Choose images",onChange:this.imageStack.bind(this),imgExtension:[".jpg",".jpeg",".gif",".png",".gif"],maxFileSize:102e4,fileTypeError:"Invalid File",fileSizeError:"image size is larger than 1 MB",label:"Maximum image size: 1 MB",fileContainerStyle:{background:"transparent",boxShadow:"none",margin:0,color:"#333"},withIcon:!0}),l.a.createElement("p",{style:{fontSize:12,color:"#333"}},"Files selected for upload:  ",this.state.pictures.length-this.state.uindex),l.a.createElement("br",null),"Uploading"===this.state.uploadStatus&&this.state.pictures.length!==this.state.uploadCount?l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:12,color:"#333"}},"Uploading image ",this.state.utotal-(this.state.pictures.length-this.state.uindex)+1," / ",this.state.utotal),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("progress",{id:"progress",style:{width:"70%",textAlign:"left"},className:"progress is-dark",value:"0",max:"100"}))):l.a.createElement("button",{onClick:function(){return e.state.pictures.length>0&&e.state.pictures.length!==e.state.uploadCount&&e.setState({utotal:e.state.pictures.length-e.state.uindex})|e.handleImageUpload(e.state.uindex)},className:"button is-primary",style:Q.bttn}," Upload "))),l.a.createElement("br",null),l.a.createElement("center",null),l.a.createElement("div",{className:"columns is-mobile",style:{flexWrap:"wrap",justifyContent:"space-around",backgroundColor:"#131313",borderRadius:10,width:"100%",alignSelf:"center"}},this.state.uploadedFileCloudinaryId.map((function(t,a){return void 0!==e.state.uploadedFileCloudinaryId[a]&&l.a.createElement("figure",{className:"image is-128x128",style:{padding:6},key:a},l.a.createElement("div",{className:"imghvr-flip-horiz",style:{border:2,borderRadius:8,borderColor:"#423B57",borderStyle:"solid",height:"100%"}},l.a.createElement("img",{alt:"uploaded",style:{width:"100%",height:"100%",objectFit:"cover"},src:"https://res.cloudinary.com/azizcloud/image/upload/".concat(e.state.uploadedFileCloudinaryId[a])}),l.a.createElement("figcaption",{style:Q.vcenter},l.a.createElement(Z.CopyToClipboard,{text:"https://res.cloudinary.com/azizcloud/image/upload/".concat(e.state.uploadedFileCloudinaryId[a])},l.a.createElement("button",{className:"button is-primary",onClick:function(){e.setState({buttonUrl:"Copied"})},onMouseOut:function(){e.setState({buttonUrl:"Copy URL"})},style:Q.bttn},e.state.buttonUrl)),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-danger",style:Q.bttn,onClick:function(){e.deleteImage(a)}},"Delete"))))}))),l.a.createElement("form",{onSubmit:this.toggleModal},l.a.createElement("input",{className:f.a.inputarea,type:"url",onChange:function(t){return e.setState({simage:t.target.value})},value:this.state.simage,placeholder:"Enter header image URL",maxLength:"250",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{className:f.a.inputarea,pattern:"^[a-zA-Z0-9,! .()\"'|]+$",onChange:function(t){return e.setState({stitle:t.target.value})},value:this.state.stitle,placeholder:"Enter post title without special characters",maxLength:"77",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{className:f.a.inputarea,type:"text",onChange:function(t){return e.setState({stag:t.target.value})},value:this.state.stag,placeholder:"Enter tag",maxLength:"14",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("article",null,l.a.createElement("p",{className:"panel-heading",style:{color:"#ddd",backgroundColor:"#767778"}},"Manage content"),l.a.createElement("div",{className:"tabs is-centered is-boxed",style:{backgroundColor:"#3C3940",paddingTop:10,marginBottom:0}},l.a.createElement("ul",{style:{borderBottomWidth:1,borderBottomColor:"#dbdbdb",borderStyle:"solid",border:"none"}},l.a.createElement("li",{style:Q.li,className:"".concat(this.state.tab[0]),onClick:function(){e.switchTab(0)}},l.a.createElement("a",{href:"# ",onClick:function(t){return e.prevent(t)}},l.a.createElement(M.a,{icon:P.c,size:"1x"}),"\xa0",l.a.createElement("span",{style:{color:"#ccc"}},"Editor"))),l.a.createElement("li",{style:Q.li,className:"".concat(this.state.tab[1]),onClick:function(){e.switchTab(1)}},l.a.createElement("a",{href:"# ",onClick:function(t){return e.prevent(t)}},l.a.createElement(M.a,{icon:P.e,size:"1x"}),"\xa0",l.a.createElement("span",{style:{color:"#ccc"}},"Preview"))),l.a.createElement("li",{style:Q.li,className:"".concat(this.state.tab[2]),onClick:function(){e.switchTab(2)}},l.a.createElement("a",{href:"# ",onClick:function(t){return e.prevent(t)}},l.a.createElement(M.a,{icon:P.b,size:"1x"}),"\xa0",l.a.createElement("span",{style:{color:"#ccc"}},"Edit HTML"))))),l.a.createElement("div",{style:""===this.state.tab[0]?Q.hide:void 0},l.a.createElement(W.Editor,{editorState:t,editorClassName:f.a.contentArea,onEditorStateChange:this.onEditorStateChange}),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("button",{className:f.a.nbutton,value:"submit"},"Edit Post"===this.state.editmode?"Save Changes":"Create Post"))),"is-active"===this.state.tab[1]&&l.a.createElement("div",{style:{padding:"4%",minHeight:"60vh",backgroundColor:"#19181b"}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:f.a.contentArea},j()(q()(Object(L.convertToRaw)(t.getCurrentContent())))))),"is-active"===this.state.tab[2]&&l.a.createElement("div",null,l.a.createElement("textarea",{id:"htmlcontent",defaultValue:q()(Object(L.convertToRaw)(t.getCurrentContent())),onChange:function(t){return e.setState({htmlcontent:t.target.value})},style:{backgroundColor:"#19181b",width:"100%",minHeight:"60vh",color:"#fff",border:0}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("button",{className:f.a.nbutton,type:"button",onClick:function(){return e.editHtml(e.state.htmlcontent)}},"Initialize")))))))),l.a.createElement("div",{className:"modal ".concat(this.state.modalstate)},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content"},"loading"!==this.state.space?l.a.createElement("div",{className:"card ".concat(f.a.card),style:{borderRadius:6,backgroundColor:"#222227"}},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"title",style:{color:"#fff"}},"Create Post"===this.state.editmode?"Are you sure you want to create a new post?":"Are you sure you want to update the changes to the post?")),l.a.createElement("footer",{className:"card-footer",style:{borderColor:"#574b4b"}},l.a.createElement("div",{style:{backgroundColor:"#222227",borderRadius:8,width:"100%"}},l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:"Create Post"===this.state.editmode?this.putPost:this.setPost},"Confirm"),l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.toggleModal(t)}},"Cancel")))):this.loader()),l.a.createElement("button",{className:"modal-close is-large",onClick:function(){e.toggleModal()},"aria-label":"close"})),l.a.createElement(C,null))}}]),t}(n.Component),Q={hide:{display:"none"},li:{width:"100%",color:"#ccc"},bttn:{fontSize:14,height:30,border:"none",borderRadius:15,width:100,padding:0,backgroundColor:"#3f4257"},vcenter:{padding:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},ee=$,te=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement(y,null),l.a.createElement("div",{style:{height:"90vh",marginTop:"15%"}},l.a.createElement("h1",{style:{fontSize:80,textAlign:"center"}}," 404 "),l.a.createElement("h1",{style:{fontSize:50,textAlign:"center"}}," Page not found ")),l.a.createElement(C,null))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).loadMore=function(){a.getPosts()},a.getPosts=function(){p.a.get("/api/postitles",{params:{skip:a.state.pivot,limit:6}}).then((function(e){0!==e.data.length?a.setState({scontent:a.state.scontent.concat(e.data),pivot:a.state.pivot+6,active:!0}):a.setState({active:!1})})).catch((function(e){return console.log(e)}))},a.clearCache=function(){p.a.delete("/api/clear").then((function(e){window.alert("Cache cleared"),a.setState({modalstate2:""})})).catch((function(e){window.alert("Failed to clear cache")}))},a.getSpace=function(){p.a.get("/api/usedspace").then((function(e){e.data&&a.setState({space:e.data})})).catch((function(e){return console.log(e)}))},a.deletePost=function(e){var t=a.state,n=t.scontent[t.target];t.ctitle===n.title?p.a.delete("/api/deletepost",{headers:{Authorization:"authorizationToken"},data:{id:n._id}}).then((function(e){if(e.data){window.alert("Post has been deleted");var n=a.state.scontent;n.splice(t.target,1),a.setState({ctitle:"",modalstate:"",scontent:n})}})):window.alert("Please enter matching title")},a.toggleModal=function(e){e.preventDefault(),""===a.state.modalstate?a.setState({modalstate:"is-active is-clipped"}):a.setState({modalstate:""})},a.toggleModal2=function(e){e.preventDefault(),""===a.state.modalstate2?a.setState({modalstate2:"is-active is-clipped"}):a.setState({modalstate2:""})},a.logout=function(){localStorage.removeItem("content"),p.a.get("/api/logout").then((function(e){a.props.history.push("login")})).catch((function(e){return console.log(e)}))},a.updateTitle=function(e){a.setState({ctitle:e.target.value})},a.loader=function(){return l.a.createElement("center",null,l.a.createElement("img",{src:X.a,alt:"loading",style:{width:40,margin:18}}))},a.state={id:"",ctitle:"",scontent:[],modalstate:"",modalstate2:"",target:"",space:"loading",pivot:0,active:!0},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/isLogged").then((function(t){e.getSpace(),e.getPosts()})).catch((function(t){401===t.response.status&&e.props.history.push("/admin/login")}))}},{key:"render",value:function(){var e=this,t=this.state.scontent;return l.a.createElement("div",{className:"columns ".concat(f.a.dashboard),style:{paddingBottom:0}},l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l.a.createElement("div",{className:"column"},l.a.createElement("h2",{style:{fontSize:40,color:"white",textAlign:"center",fontWeight:700,letterSpacing:"0.05em"},className:"title"}," Dashboard "),l.a.createElement("div",{style:{minWidth:"68vw"}},l.a.createElement("div",{className:"card",style:{borderRadius:6,backgroundSize:"cover",backgroundImage:"url(".concat(U.a,")")}},l.a.createElement("div",{className:"card-content columns",style:{borderRadius:6,margin:0,backdropFilter:"blur(5px)"}},l.a.createElement("div",{className:"column",style:{flexDirection:"column",backgroundColor:"#444449",padding:10,borderRadius:8}},"loading"!==this.state.space?l.a.createElement("div",{style:{color:"#fff",paddingBottom:12}},l.a.createElement("p",null,"Database used: ",(this.state.space.MStorage/1024).toFixed(2),"/500 MB"),l.a.createElement("p",null,"CDN storage used: ",(this.state.space.CStorage/1048576).toFixed(2)," MB"),l.a.createElement("p",null,"CDN service used: ",this.state.space.Credits," %")):this.loader(),l.a.createElement("div",{style:{backgroundColor:"#222227",borderRadius:8,width:"100%"}},l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(){e.setState({space:"loading"})||e.getSpace()}},"Refresh"),l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.toggleModal2(t)}},"Clear Cache"))),l.a.createElement("div",{className:"column",style:{display:"flex",flexDirection:"column",justifyContent:"center"}},l.a.createElement("center",null,l.a.createElement("img",{src:v.a,alt:"logo",style:{width:100}}))),l.a.createElement("div",{className:"column columns",style:{flexDirection:"column",backgroundColor:"#444449",padding:10,borderRadius:8,margin:0}},l.a.createElement("button",{style:{marginBottom:10},className:"".concat(f.a.cbutton2," column"),onClick:function(){window.open("editor#new")}},"Create Post"),l.a.createElement("button",{className:"".concat(f.a.cbutton2," column"),onClick:function(t){e.logout()}},"Log out")))),l.a.createElement("br",null),0!==this.state.pivot?l.a.createElement("div",{className:"columns",style:{marginTop:20,margin:0,padding:8,flexDirection:"column",borderRadius:8,width:"100%",backgroundColor:"#3B3B40",color:"#fff"}},t.map((function(t,a){return l.a.createElement("div",{className:"column",style:{margin:10,backgroundColor:"#222227",borderRadius:8},key:a},l.a.createElement("nav",{className:"level"},l.a.createElement("div",{className:"level-left ".concat(f.a.dtitle)},l.a.createElement("p",{style:{fontSize:20,padding:10}},a+1),l.a.createElement("div",{style:{paddingLeft:15}},l.a.createElement("p",{style:{wordBreak:"break-word",fontSize:22}},t.title),l.a.createElement("p",{style:{fontSize:14,color:"#AAAAAA"}},t.date),l.a.createElement("p",{style:{fontSize:14,color:"#AAAAAA"}},t.tag))),l.a.createElement("div",{className:"level-right"},l.a.createElement("p",{style:{backgroundColor:"#3B3B40",borderRadius:8,padding:10,height:50},className:"level-item"},t.vcount," views"),l.a.createElement("div",{className:"level-item",style:{backgroundColor:"#3B3B40",borderRadius:8,minWidth:200}},l.a.createElement("input",{type:"button",className:f.a.cbutton,value:"View",onClick:function(){window.open("/blog/".concat(t.cid,"/").concat(t.title))}}),l.a.createElement("input",{type:"button",className:f.a.cbutton,value:"Edit",onClick:function(){window.open("/admin/editor/".concat(t.cid,"/").concat(t.title,"?m=edit"))}}),l.a.createElement("input",{type:"button",className:f.a.cbutton,value:"Delete",onClick:function(t){e.setState({target:a})||e.toggleModal(t)}})))))}))):this.loader(),l.a.createElement("div",{style:{margin:25,display:"flex",flexDirection:"column",justifyContent:"center",height:60}},this.state.pivot>0&&this.state.active&&l.a.createElement("center",null,l.a.createElement("div",{title:"Load more",className:f.a.loader,onClick:function(){return e.loadMore()}})))),l.a.createElement("div",{className:"modal ".concat(this.state.modalstate)},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"card ".concat(f.a.card),style:{borderRadius:6,backgroundColor:"#222227"}},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"title",style:{color:"#fff"}},"Are you sure you want to permanently delete this post?"),l.a.createElement("br",null),l.a.createElement("input",{className:f.a.inputarea,onChange:this.updateTitle,type:"text",value:this.state.ctitle,placeholder:"Enter title to confirm"})),l.a.createElement("footer",{className:"card-footer",style:{borderColor:"#574b4b"}},l.a.createElement("div",{style:{backgroundColor:"#222227",borderRadius:8,width:"100%"}},l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.deletePost(t)}},"Delete Post"),l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.toggleModal(t)}},"Cancel"))))),l.a.createElement("button",{className:"modal-close is-large",onClick:function(t){e.toggleModal(t)},"aria-label":"close"})),l.a.createElement("div",{className:"modal ".concat(this.state.modalstate2)},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"card ".concat(f.a.card),style:{borderRadius:6,backgroundColor:"#222227"}},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"subtitle",style:{color:"#fff"}},l.a.createElement("span",{style:{color:"red"}},"Warning:")," Clearing the cache while writting a post will cause data loss. Make sure there is no pending posts to submit."),l.a.createElement("br",null),l.a.createElement("p",{className:"subtitle",style:{color:"#fff"}},"Are you sure you want to clear cache?"),l.a.createElement("br",null)),l.a.createElement("footer",{className:"card-footer",style:{borderColor:"#574b4b"}},l.a.createElement("div",{style:{backgroundColor:"#222227",borderRadius:8,width:"100%"}},l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.clearCache(t)}},"Clear cache"),l.a.createElement("button",{className:f.a.cbutton,style:{width:"50%"},onClick:function(t){e.toggleModal2(t)}},"Cancel"))))),l.a.createElement("button",{className:"modal-close is-large",onClick:function(t){e.toggleModal2(t)},"aria-label":"close"})),l.a.createElement(C,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(r.a,{exact:!0,path:"/",component:x}),l.a.createElement(r.a,{exact:!0,path:"/blog",component:x}),l.a.createElement(r.a,{path:"/blog/:id",component:O}),l.a.createElement(r.a,{path:"/contact",component:R}),l.a.createElement(r.a,{exact:!0,path:"/admin/editor",component:ee}),l.a.createElement(r.a,{exact:!0,path:"/admin/editor/:cid/:id",component:ee}),l.a.createElement(r.a,{path:"/admin/login",component:D}),l.a.createElement(r.a,{path:"/404",component:te}),l.a.createElement(r.a,{path:"/admin/dashboard",component:ae})));c.a.render(ne,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},43:function(e,t,a){e.exports=a.p+"static/media/Polygon.de6485bc.svg"},64:function(e){e.exports=JSON.parse('{"transformations":{"cards":"","header":""}}')},68:function(e,t,a){e.exports=a.p+"static/media/mount.a5e18f2a.jpg"},69:function(e,t,a){e.exports=a.p+"static/media/forest.b27b7f1b.jpg"},70:function(e,t,a){e.exports=a.p+"static/media/loading.018d2ac3.gif"}},[[161,1,2]]]);
//# sourceMappingURL=main.17fb9c65.chunk.js.map